<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html> 
<head> 
   <title>Karel IDE</title> 
   <script src="./js/html/websiteImports.js"></script>
	<script>importCss();</script>
	<script>importJs();</script>

</head> 

<body> 

   <script>importWebsiteHeader('program.html');</script>
   <div id ='content'  class="learn">
      <div id ='headerDiv'></div>
      <div id ='centerAreaDiv'></div>
      <div id ='progressBarDiv'></div>
   </div>
   <script>
      function init() {
         var learnEngine = null;

         function loadProgram(url) {
         }

         function programLoaded(data){
            alert(data);
         }

         function loadProgramFromHash() {
            var hashText = window.location.hash;
            var path = hashText.split('/');
            if (path.length < 2) {
               $('#content').html('No program found');
               return;
            }
            var url = path[1]
            var postParameters = {
               'url':url
            }
            $.post("http://www.stanfordkarel.appspot.com/loadRemote", postParameters,programLoaded);
         }

         window.onload = function() {
            initTabs();
          
            window.onresize();
            loadProgramFromHash();
            //$("[title]").tooltip({ position: "bottom center", opacity: 0.9});
         }  

         window.onhashchange = function() {
            loadProgramFromHash();
         }  

         window.onresize = function(){
            if(learnEngine)learnEngine.onWindowResize();
               ReferenceDialog.resize();
            }     
         }
      init();
   </script>

</body> 
</html>
